## Setup

This is the csv data that is going to be used for this session

```shell
cd files/week1
wget https://github.com/DataTalksClub/data-engineering-zoomcamp/blob/main/week_4_analytics_engineering/taxi_rides_ny/data/taxi_zone_lookup.csv
```

You won't be able to download it this way, since it will download the html page of the csv

The solution for this is to add `?raw=true` at the end of the link

[Solution Source](https://stackoverflow.com/questions/55240330/how-to-read-csv-file-from-github-using-pandas)

And then you'll be redirected to the `raw.githubusercontent.com` where you can then directly insert it to your data

```shell
cd files/week1
wget https://raw.githubusercontent.com/DataTalksClub/data-engineering-zoomcamp/main/week_4_analytics_engineering/taxi_rides_ny/data/taxi_zone_lookup.csv
```

---

### Pgadmin volume persist

From the course so far, we didn't have any way to persist the settings of the `pgadmin` container.

In order to combat this, we make use of the `docker volumes` in order to persist the data

`docker-compose.yaml`
```yaml
version: "1.0"
services:
  postgres_database:
    image: postgres:13
    container_name: postgres_container
    environment:
      - POSTGRES_USER=root
      - POSTGRES_PASSWORD=root
      - POSTGRES_DB=ny_taxi
    volumes:
      - './ny_taxi_postgres_data:/var/lib/postgresql/data:rw'
    ports:
      - '5432:5432'
  pgadmin_container:
    container_name: pgadmin_container
    image: dpage/pgadmin4
    environment:
      - PGADMIN_DEFAULT_EMAIL=admin@admin.com
      - PGADMIN_DEFAULT_PASSWORD=root
    volumes:
      - pgadmin_data:/var/lib/pgadmin
    ports:
      - '8080:80'

volumes:
  pgadmin_data:
```

[Solution Source](https://stackoverflow.com/a/57176413/14859274)

---

### Inserting of the data to the database

Have used a jupyter notebook to insert to create the database and insert the data

[Jupyter for creating db and inserting data](files/week1/sql_refresher_upload.ipynb)

---